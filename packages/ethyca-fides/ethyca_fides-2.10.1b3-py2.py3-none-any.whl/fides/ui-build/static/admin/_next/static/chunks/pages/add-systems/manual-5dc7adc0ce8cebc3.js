(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8012],{34651:function(e,t,r){"use strict";r.d(t,{Ee:function(){return f}});var n=r(81439),o=r(15031),i=r(67294),s=r(44697);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var l=["htmlWidth","htmlHeight","alt"],u=["fallbackSrc","fallback","src","srcSet","align","fit","loading","ignoreFallback","crossOrigin"],d=i.forwardRef((function(e,t){var r=e.htmlWidth,n=e.htmlHeight,o=e.alt,s=c(e,l);return i.createElement("img",a({width:r,height:n,ref:t,alt:o},s))})),f=(0,n.Gp)((function(e,t){var r=e.fallbackSrc,l=e.fallback,f=e.src,h=e.srcSet,m=e.align,p=e.fit,g=e.loading,y=e.ignoreFallback,x=e.crossOrigin,b=c(e,u),j=null!=g||y||void 0===r&&void 0===l,v=function(e){var t=e.loading,r=e.src,n=e.srcSet,o=e.onLoad,a=e.onError,c=e.crossOrigin,l=e.sizes,u=e.ignoreFallback,d=(0,i.useState)("pending"),f=d[0],h=d[1];(0,i.useEffect)((function(){h(r?"loading":"pending")}),[r]);var m=(0,i.useRef)(),p=(0,i.useCallback)((function(){if(r){g();var e=new Image;e.src=r,c&&(e.crossOrigin=c),n&&(e.srcset=n),l&&(e.sizes=l),t&&(e.loading=t),e.onload=function(e){g(),h("loaded"),null==o||o(e)},e.onerror=function(e){g(),h("failed"),null==a||a(e)},m.current=e}}),[r,c,n,l,o,a,t]),g=function(){m.current&&(m.current.onload=null,m.current.onerror=null,m.current=null)};return(0,s.a)((function(){if(!u)return"loading"===f&&p(),function(){g()}}),[f,p,u]),u?"loaded":f}(a({},e,{ignoreFallback:j})),O=a({ref:t,objectFit:p,objectPosition:m},j?b:(0,o.CE)(b,["onError","onLoad"]));return"loaded"!==v?l||i.createElement(n.m$.img,a({as:d,className:"chakra-image__placeholder",src:r},O)):i.createElement(n.m$.img,a({as:d,src:f,srcSet:h,crossOrigin:x,loading:g,className:"chakra-image"},O))}));o.Ts&&(f.displayName="Image")},49743:function(e,t,r){"use strict";var n=r(59499),o=r(4730),i=r(4612),s=r(48591),a=r(15193),c=r(85893),l=["search","onChange","withIcon","onClear"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.search,r=e.onChange,n=e.withIcon,u=e.onClear,f=(0,o.Z)(e,l);return(0,c.jsxs)(i.BZ,{size:"sm",minWidth:"308px",children:[n?(0,c.jsx)(i.Z8,{pointerEvents:"none",children:(0,c.jsx)(s.PT,{color:"gray.300",w:"17px",h:"17px"})}):null,(0,c.jsx)(i.II,d({autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:t,name:"search",onChange:function(e){return r(e.target.value)}},f)),u?(0,c.jsx)(i.xH,{children:(0,c.jsx)(a.zx,{borderLeftRadius:0,height:"95%",right:"14px",flexShrink:0,fontWeight:"light",size:"sm",onClick:u,children:"Clear"})}):null]})}},30472:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(59499),o=r(16835),i=r(27812),s=r(4730),a=r(34651),c=(r(67294),r(74015)),l=r(56661),u=function(e){return(0,l.Ln)({encoded_icon:"string"},e)},d=r(36292),f=function(e){return void 0!==e.connection_type},h=r(85893),m=["data"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var g=function(e){var t=e.data,r=(0,s.Z)(e,m);return(0,h.jsx)(a.Ee,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({boxSize:"32px",objectFit:"cover",src:function(){if(u(t)&&t.encoded_icon)return"data:image/svg+xml;base64,".concat(t.encoded_icon);var e;if(f(t))e=(0,i.Z)(d.iW).find((function(e){var r,n,i=(0,o.Z)(e,1)[0];return t.connection_type.toString()!==c.Rj.SAAS&&t.connection_type.toString()===i||t.connection_type.toString()===c.Rj.SAAS&&(null===(r=t.saas_config)||void 0===r||null===(n=r.type)||void 0===n?void 0:n.toString())===i.toString()}));else if(u(t)){var r=t.identifier;e=(0,i.Z)(d.iW).find((function(e){return(0,o.Z)(e,1)[0].toLowerCase()===r.toLowerCase()}))}return e?d.Ny+e[1]:d.VD}(),fallbackSrc:d.VD,alt:f(t)?t.name:u(t)?t.human_readable:t},r))}},91023:function(e,t,r){"use strict";var n=r(68527),o=r(30472),i=r(41664),s=r.n(i),a=(r(67294),r(85893));t.Z=function(e){var t=e.items;return(0,a.jsx)(n.MI,{columns:4,spacingX:"16px",spacingY:"16px",children:t.map((function(e){return(0,a.jsx)(s(),{href:{pathname:window.location.pathname,query:{step:2,connectorType:JSON.stringify(e)}},passHref:!0,children:(0,a.jsx)(n.xu,{boxShadow:"base",borderRadius:"5px",maxWidth:"331px",overflow:"hidden",_hover:{boxShadow:"lg",cursor:"pointer"},"data-testid":"".concat(e.identifier,"-item"),children:(0,a.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",pl:"24px",color:"gray.700",fontSize:"14px",fontStyle:"normal",fontWeight:"600",lineHeight:"20px",h:"80px",children:[(0,a.jsx)(o.Z,{data:e}),(0,a.jsx)(n.xv,{ml:"12px",children:e.human_readable})]})})},e.identifier)}))})}},98171:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(68527),o=r(11739),i=r(41664),s=r.n(i),a=r(11163),c=r(67294),l=r(99039),u=r(18343),d=r(45035),f=r(30472),h=r(49609),m=r(48591),p=r(15193),g=r(49743),y=r(20095),x=r(91023),b=r(85893),j=function(){var e=(0,c.useState)(""),t=e[0],r=e[1],o=(0,y.$I)({}),i=o.data,a=o.isLoading,l=(0,c.useMemo)((function(){return i?i.items.filter((function(e){return n=t,(r=e).human_readable.toLocaleLowerCase().includes(n.toLocaleLowerCase())||r.identifier.toLocaleLowerCase().includes(n.toLocaleLowerCase());var r,n})):[]}),[i,t]);if(a)return(0,b.jsx)(h.$,{});if(!i)return(0,b.jsx)(n.xv,{children:"Could not find system types, please try again."});var u=i.items.length>0&&t.length>0&&0===l.length;return(0,b.jsxs)(n.xu,{children:[(0,b.jsxs)(n.xu,{mb:4,display:"flex",justifyContent:"space-between",children:[(0,b.jsx)(n.xu,{children:(0,b.jsx)(g.Z,{search:t,onChange:r,placeholder:"Search for a system","data-testid":"system-catalog-search",onClear:function(){return r("")}})}),(0,b.jsxs)(n.kC,{alignItems:"center",children:[u?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.PT,{mr:1,color:"gray.400"}),(0,b.jsx)(n.xv,{fontSize:"sm",color:"gray.700",mr:2,"data-testid":"no-systems-found",children:"No systems found"})]}):null,(0,b.jsx)(s(),{href:{pathname:window.location.pathname,query:{step:2}},passHref:!0,children:(0,b.jsx)(p.zx,{variant:u?"solid":"outline",colorScheme:u?"primary":void 0,size:"sm","data-testid":"create-system-btn",children:"Create system"})})]})]}),(0,b.jsx)(x.Z,{items:l})]})},v=r(64940),O=function(e){var t=e.step,r=e.connector;return"choose-system"===t?(0,b.jsx)(n.X6,{fontSize:"2xl",fontWeight:"semibold",mb:2,"data-testid":"header",children:"Choose a type of system"}):(0,b.jsxs)(n.xu,{display:"flex",mb:2,alignItems:"center","data-testid":"header",children:[(0,b.jsx)(f.Z,{data:null!==r&&void 0!==r?r:"ethyca",mr:2}),(0,b.jsxs)(n.X6,{fontSize:"2xl",fontWeight:"semibold",children:["Describe your ",r?r.human_readable:"new"," system"]})]})},w=function(){var e=(0,l.V)().systemOrDatamapRoute,t=(0,a.useRouter)().query,r=t.step,i=t.connectorType,f="2"===r?"describe-system":"choose-system",h=(0,c.useMemo)((function(){if(i){var e=Array.isArray(i)?i[0]:i;return JSON.parse(e)}}),[i]);return(0,b.jsxs)(u.Z,{title:"Choose a system type",children:[(0,b.jsxs)(n.xu,{mb:4,children:[(0,b.jsx)(O,{step:f,connector:h}),(0,b.jsx)(n.xu,{children:(0,b.jsxs)(o.aG,{fontWeight:"medium",fontSize:"sm",color:"gray.600","data-testid":"breadcrumbs",children:[(0,b.jsx)(o.gN,{children:(0,b.jsx)(s(),{href:e,children:"Data map"})}),(0,b.jsx)(o.gN,{children:(0,b.jsx)(s(),{href:d.xo,children:"Add systems"})}),(0,b.jsx)(o.gN,{color:"choose-system"===f?"complimentary.500":void 0,children:(0,b.jsx)(s(),{href:d.N5,children:"Choose your system"})}),"describe-system"===f?(0,b.jsx)(o.gN,{color:"complimentary.500",children:(0,b.jsx)(s(),{href:"#",children:"Describe your system"})}):null]})})]}),(0,b.jsxs)(n.xu,{w:{base:"100%",md:"75%"},children:[(0,b.jsx)(n.xv,{fontSize:"sm",mb:8,children:"choose-system"===f?"Systems are anything that might store or process data in your organization, from a web application, to a database or data warehouse. Pick from common system types below or create a new type of system to get started.":"Systems are anything that might store or process data in your organization, from a web application, to a database or data warehouse. Describe your system below to register it to the map. You may optionally complete data entry for the system using the additional tabs to navigate the sections."}),"choose-system"===f?(0,b.jsx)(j,{}):(0,b.jsx)(v.Z,{isCreate:!0})]})]})}},51481:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add-systems/manual",function(){return r(98171)}])}},function(e){e.O(0,[2437,3880,4231,6114,9425,1012,3879,1925,4940,9774,2888,179],(function(){return t=51481,e(e.s=t);var t}));var t=e.O();_N_E=t}]);