(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7262],{84304:function(e,r,n){"use strict";n.d(r,{r:function(){return l}});var t=n(68133),i=n(81439),s=n(15031),o=n(67294);function a(){return a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},a.apply(this,arguments)}var c=["spacing","children"],l=(0,i.Gp)((function(e,r){var n=(0,i.jC)("Switch",e),l=(0,i.Lr)(e),u=l.spacing,d=void 0===u?"0.5rem":u,p=l.children,h=function(e,r){if(null==e)return{};var n,t,i={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],r.indexOf(n)>=0||(i[n]=e[n]);return i}(l,c),f=(0,t.O)(h),x=f.state,g=f.getInputProps,m=f.getCheckboxProps,v=f.getRootProps,j=f.getLabelProps,y=o.useMemo((function(){return a({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0},n.container)}),[n.container]),b=o.useMemo((function(){return a({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer"},n.track)}),[n.track]),k=o.useMemo((function(){return a({userSelect:"none",marginStart:d},n.label)}),[d,n.label]);return o.createElement(i.m$.label,a({},v(),{className:(0,s.cx)("chakra-switch",e.className),__css:y}),o.createElement("input",a({className:"chakra-switch__input"},g({},r))),o.createElement(i.m$.span,a({},m(),{className:"chakra-switch__track",__css:b}),o.createElement(i.m$.span,{__css:n.thumb,className:"chakra-switch__thumb","data-checked":(0,s.PB)(x.isChecked),"data-hover":(0,s.PB)(x.isHovered)})),p&&o.createElement(i.m$.span,a({className:"chakra-switch__label"},j(),{__css:k}),p))}));s.Ts&&(l.displayName="Switch")},26308:function(e,r,n){"use strict";n.d(r,{Z:function(){return j}});var t=n(50029),i=n(16835),s=n(87794),o=n.n(s),a=n(68527),c=n(15193),l=n(48591),u=n(81655),d=n(41664),p=n.n(d),h=(n(67294),{src:"/_next/static/media/logo.c87f81b9.svg",height:64,width:209}),f=n(97142),x=n(18459),g=n(37161),m=n(58101),v=n(85893),j=function(){var e=function(){var e;return{username:(null!==(e=(0,f.C)(g.dy))&&void 0!==e?e:{username:""}).username}}().username,r=(0,g._y)(),n=(0,i.Z)(r,1)[0],s=(0,f.T)(),d=function(){var e=(0,t.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({});case 2:s((0,g.kS)());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)(a.kC,{as:"header",height:12,width:"100%",paddingX:10,flexShrink:0,justifyContent:"space-between",alignItems:"center",backgroundColor:"gray.50",children:[(0,v.jsx)(p(),{href:x.gp,passHref:!0,children:(0,v.jsx)(a.rU,{display:"flex",children:(0,v.jsx)(m.Z,{src:h,width:83,height:26,alt:"Fides Logo"})})}),(0,v.jsxs)(a.kC,{alignItems:"center",children:[(0,v.jsx)(a.rU,{href:"https://ethyca.github.io/fides/",isExternal:!0,children:(0,v.jsx)(c.zx,{size:"sm",variant:"ghost",children:(0,v.jsx)(l.UO,{color:"gray.700",boxSize:4})})}),e&&(0,v.jsxs)(u.v2,{children:[(0,v.jsx)(u.j2,{as:c.zx,size:"sm",variant:"ghost","data-testid":"header-menu-button",children:(0,v.jsx)(l.tB,{color:"gray.700"})}),(0,v.jsxs)(u.qy,{shadow:"xl",children:[(0,v.jsx)(a.Kq,{px:3,py:2,spacing:1,children:(0,v.jsx)(a.xv,{fontWeight:"medium",children:e})}),(0,v.jsx)(u.R,{}),(0,v.jsx)(u.sN,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:d,"data-testid":"header-menu-sign-out",children:"Sign out"})]})]})]})]})}},18343:function(e,r,n){"use strict";n.d(r,{Z:function(){return m}});var t=n(68527),i=n(9008),s=n.n(i),o=n(11163),a=(n(67294),n(53700)),c=n(26308),l=n(93549),u=n(31444),d=n(70918),p=n(15193),h=n(45035),f=n(85893),x=function(){var e=(0,o.useRouter)();return(0,f.jsx)(t.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,f.jsxs)(t.xu,{children:[(0,f.jsxs)(t.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,f.jsx)(t.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,f.jsx)(p.zx,{size:"sm",variant:"outline",onClick:function(){e.push(h.fz)},children:"Configure"})]}),(0,f.jsxs)(t.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},g=n(58876),m=function(e){var r=e.children,n=e.title,i=(0,a.hz)(),p=(0,o.useRouter)(),h="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,m=!(i.flags.privacyRequestsConfiguration&&h),v=(0,d.JE)(void 0,{skip:m}).data,j=(0,d.PW)(void 0,{skip:m}).data,y=i.flags.privacyRequestsConfiguration&&(!v||!j)&&h;return(0,f.jsxs)(t.kC,{"data-testid":n,direction:"column",children:[(0,f.jsxs)(s(),{children:[(0,f.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,f.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,f.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,f.jsx)(c.Z,{}),(0,f.jsx)(g.Z,{}),(0,f.jsx)(u.Z,{}),(0,f.jsxs)(t.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,f.jsx)(t.xu,{flex:0,flexShrink:0,children:(0,f.jsx)(l.U,{})}),(0,f.jsxs)(t.kC,{direction:"column",flex:1,minWidth:0,children:[y?(0,f.jsx)(x,{}):null,r]})]})]})}},58876:function(e,r,n){"use strict";var t=n(97375),i=n(6886),s=n(68527),o=n(84746),a=n(97142),c=n(65648),l=n(74015),u=n(53700),d=n(85893);r.Z=function(){var e=(0,a.C)(u._R),r=(0,a.T)(),n=(0,a.C)(c.C0),p=void 0===e||e,h=(0,t.qY)({defaultIsOpen:p}),f=h.isOpen,x=h.onClose;return f?1===n.length&&n[0]!==l.A7.VIEWER?null:(0,d.jsxs)(i.bZ,{status:"info",overflow:"visible",children:[(0,d.jsx)(i.zM,{}),(0,d.jsx)(s.xu,{children:(0,d.jsx)(i.X,{children:"Ethyca has updated how permissions work from a scope-based model to a role-based permissions scheme. To update user roles, please log in as your root user and upgrade the roles as you see fit."})}),(0,d.jsx)(o.P,{alignSelf:"flex-start",position:"relative",right:-1,top:-1,onClick:function(){r((0,u.dq)(!1)),x()}})]}):null}},22391:function(e,r,n){"use strict";n.d(r,{TL:function(){return p},UI:function(){return d}});var t=n(59499),i=n(53959),s=n(41664),o=n.n(s),a=(n(67294),n(85893));function c(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?c(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var u=function(e){var r=e.variant,n=e.children,t=e.href,s=e.isActive,c=e.isDisabled,l="primary"===r?i.c2:i._p;return c?(0,a.jsx)(l,{isDisabled:c,href:t,isActive:s,children:n}):(0,a.jsx)(o(),{href:t,passHref:!0,children:(0,a.jsx)(l,{isActive:s,children:n})})},d=function(e){return(0,a.jsx)(u,l({variant:"primary"},e))},p=function(e){return(0,a.jsx)(u,l({variant:"secondary"},e))}},93549:function(e,r,n){"use strict";n.d(r,{U:function(){return l}});var t=n(53959),i=n(68527),s=n(11163),o=(n(67294),n(58536)),a=n(22391),c=n(85893),l=function(){var e=(0,s.useRouter)(),r=(0,o.Y)({path:e.pathname});return r.active?(0,c.jsxs)(i.gC,{as:"nav",align:"left",spacing:4,width:"200px",children:[(0,c.jsx)(i.X6,{size:"md",children:r.active.title}),(0,c.jsx)(t.$6,{children:r.active.children.map((function(r){var n=r.title,t=r.path,i=e.pathname.startsWith(t);return(0,c.jsx)(a.TL,{href:t,isActive:i,children:n},n)}))})]}):null}},31444:function(e,r,n){"use strict";n.d(r,{Z:function(){return c}});var t=n(68527),i=n(11163),s=(n(67294),n(58536)),o=n(22391),a=n(85893),c=function(){var e=(0,i.useRouter)(),r=(0,s.Y)({path:e.pathname});return(0,a.jsx)(t.kC,{as:"nav",height:12,paddingX:10,gap:1,flexShrink:0,alignItems:"center",borderBottom:"1px",borderColor:"gray.100",children:r.groups.map((function(e){var n,t=e.children[0].path,i=e.title===(null===(n=r.active)||void 0===n?void 0:n.title);return(0,a.jsx)(o.UI,{href:t,isActive:i,children:e.title},e.title)}))})}},52255:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return R}});var t=n(68527),i=n(18343),s=n(4730),o=n(59499),a=n(27812),c=n(79042),l=n(59876),u=n(15193),d=n(11163),p=n(67294),h=n(79521),f=n(97142),x=n(45035),g=n(96356),m=n(84304),v=new Map([["opt_in","Opt In"],["necessary","Necessary"],["opt_out","Opt Out"]]),j=n(85893),y=function(e){var r=e.value;return(0,j.jsx)(t.xv,{fontWeight:"semibold",color:"gray.600",children:r})},b=function(e){var r=e.value;return(0,j.jsx)(t.xv,{whiteSpace:"normal",children:r})},k=function(e){var r=e.value;return new Date(r).toDateString()},C=function(e){var r,n=e.value;return(0,j.jsx)(g.Vp,{size:"sm",backgroundColor:"primary.400",color:"white",children:null!==(r=v.get(n))&&void 0!==r?r:n})},w=function(e){var r=e.value,n=r.length>8?[].concat((0,a.Z)(r.slice(0,8)),["..."]):r;return(0,j.jsx)(t.xu,{whiteSpace:"normal",children:n.map((function(e,n){return(0,j.jsx)(g.Vp,{size:"sm",backgroundColor:"primary.400",color:"white",mr:n===r.length-1?0:3,textTransform:"uppercase",mb:2,children:e.replace(/_/g,"-")},e)}))})},O=function(e){var r=e.value,n=e.column,t=e.row;return(0,j.jsx)(m.r,{colorScheme:"complimentary",isChecked:r,onChange:function(){n.onToggle(t.original.id)}})},_=n(28028),P=["key"],S=["key"],T=["key"],E=["key"];function Z(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function z(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Z(Object(n),!0).forEach((function(r){(0,o.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var H=function(){var e=(0,d.useRouter)(),r=(0,f.C)(_.Zp),n=(0,f.C)(_.G1);(0,_.J6)({page:r,size:n});var i=(0,f.C)(_.sX),o=(0,p.useState)([]),g=o[0],m=o[1];(0,p.useEffect)((function(){m(i.filter((function(e){return!e.disabled})).map((function(e){return e.id})))}),[i]);var v=(0,p.useCallback)((function(e){var r=!!g.find((function(r){return r===e}));m(r?g.filter((function(r){return r!==e})):[].concat((0,a.Z)(g),[e]))}),[g]),Z=(0,p.useMemo)((function(){return[{Header:"Title",accessor:"name",Cell:y},{Header:"Description",accessor:"description",Cell:b},{Header:"Mechanism",accessor:"consent_mechanism",Cell:C},{Header:"Locations",accessor:"regions",Cell:w},{Header:"Created",accessor:"created_at",Cell:k},{Header:"Last update",accessor:"updated_at",Cell:k},{Header:"Enable",accessor:"enabled",onToggle:v,Cell:O}]}),[v]),H=(0,p.useMemo)((function(){return i.map((function(e){var r=g.filter((function(r){return r===e.id})).length>0;return z(z({},e),{},{enabled:r})}))}),[i,g]),R=(0,h.useTable)({columns:Z,data:H},h.useSortBy),N=R.getTableProps,D=R.getTableBodyProps,A=R.headerGroups,I=R.rows,q=R.prepareRow;return 0===i.length?(0,j.jsx)(t.xv,{children:"No privacy notices found."}):(0,j.jsx)(c.xJ,{children:(0,j.jsxs)(c.iA,z(z({},N()),{},{borderRadius:"6px 6px 0px 0px",border:"1px solid",borderColor:"gray.200",fontSize:"sm",children:[(0,j.jsx)(c.hr,{backgroundColor:"gray.50",children:A.map((function(e){var r=e.getHeaderGroupProps(),n=r.key,i=(0,s.Z)(r,P);return(0,j.jsx)(c.Tr,z(z({},i),{},{children:e.headers.map((function(e){var r=e.getHeaderProps(e.getSortByToggleProps()),n=r.key,i=(0,s.Z)(r,S),o=null;return e.isSorted&&(o=e.isSortedDesc?(0,j.jsx)(l.ve,{color:"gray.500"}):(0,j.jsx)(l.Hf,{color:"gray.500"})),(0,j.jsx)(c.Th,z(z({},i),{},{textTransform:"none",fontSize:"sm",p:4,"data-testid":"column-".concat(e.Header),children:(0,j.jsxs)(t.xv,{_hover:{backgroundColor:"gray.100"},p:1,borderRadius:"4px",pr:o?0:3.5,children:[e.render("Header"),o]})}),n)}))}),n)}))}),(0,j.jsx)(c.p3,z(z({},D()),{},{children:I.map((function(r){q(r);var n=r.getRowProps(),t=n.key,i=(0,s.Z)(n,T),o=function(){e.push("".concat(x.IT,"/").concat(r.original.id))};return(0,j.jsx)(c.Tr,z(z({},i),{},{_hover:{backgroundColor:"gray.50",cursor:"pointer"},"data-testid":"row-".concat(r.original.name),children:r.cells.map((function(e){var r=e.getCellProps(),n=r.key,t=(0,s.Z)(r,E);return(0,j.jsx)(c.Td,z(z({},t),{},{p:5,verticalAlign:"baseline",onClick:"Enable"!==e.column.Header?o:void 0,children:e.render("Cell")}),n)}))}),t)}))})),(0,j.jsx)(c.$R,{backgroundColor:"gray.50",children:(0,j.jsx)(c.Tr,{children:(0,j.jsx)(c.Td,{colSpan:Z.length,px:4,py:3.5,children:(0,j.jsx)(u.zx,{size:"xs",colorScheme:"primary",children:"Add a privacy notice +"})})})})]}))})},R=function(){return(0,j.jsx)(i.Z,{title:"Privacy notices",children:(0,j.jsx)(t.xu,{"data-testid":"privacy-notices-page",children:(0,j.jsx)(H,{})})})}},30772:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/consent/privacy-notices",function(){return n(52255)}])}},function(e){e.O(0,[2437,8104,9774,2888,179],(function(){return r=30772,e(e.s=r);var r}));var r=e.O();_N_E=r}]);