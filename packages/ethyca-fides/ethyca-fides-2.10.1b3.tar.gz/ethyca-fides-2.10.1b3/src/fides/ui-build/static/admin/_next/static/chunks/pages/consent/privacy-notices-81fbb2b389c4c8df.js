(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7262],{84304:function(e,r,n){"use strict";n.d(r,{r:function(){return l}});var t=n(68133),i=n(81439),s=n(15031),o=n(67294);function c(){return c=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},c.apply(this,arguments)}var a=["spacing","children"],l=(0,i.Gp)((function(e,r){var n=(0,i.jC)("Switch",e),l=(0,i.Lr)(e),u=l.spacing,d=void 0===u?"0.5rem":u,p=l.children,h=function(e,r){if(null==e)return{};var n,t,i={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],r.indexOf(n)>=0||(i[n]=e[n]);return i}(l,a),f=(0,t.O)(h),x=f.state,g=f.getInputProps,m=f.getCheckboxProps,v=f.getRootProps,j=f.getLabelProps,b=o.useMemo((function(){return c({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0},n.container)}),[n.container]),y=o.useMemo((function(){return c({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer"},n.track)}),[n.track]),C=o.useMemo((function(){return c({userSelect:"none",marginStart:d},n.label)}),[d,n.label]);return o.createElement(i.m$.label,c({},v(),{className:(0,s.cx)("chakra-switch",e.className),__css:b}),o.createElement("input",c({className:"chakra-switch__input"},g({},r))),o.createElement(i.m$.span,c({},m(),{className:"chakra-switch__track",__css:y}),o.createElement(i.m$.span,{__css:n.thumb,className:"chakra-switch__thumb","data-checked":(0,s.PB)(x.isChecked),"data-hover":(0,s.PB)(x.isHovered)})),p&&o.createElement(i.m$.span,c({className:"chakra-switch__label"},j(),{__css:C}),p))}));s.Ts&&(l.displayName="Switch")},58144:function(e,r,n){"use strict";var t=n(59499),i=n(43871),s=n(68527),o=n(15193),c=n(85893);function a(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}r.Z=function(e){var r=e.isOpen,n=e.onClose,t=e.onConfirm,a=e.title,u=e.message,d=e.cancelButtonText,p=e.cancelButtonThemingProps,h=e.continueButtonText,f=e.continueButtonThemingProps,x=e.isLoading,g=e.returnFocusOnClose,m=e.isCentered,v=e.testId,j=void 0===v?"confirmation-modal":v,b=e.icon;return(0,c.jsxs)(i.u_,{isOpen:r,onClose:n,size:"lg",returnFocusOnClose:null===g||void 0===g||g,isCentered:m,children:[(0,c.jsx)(i.ZA,{}),(0,c.jsxs)(i.hz,{textAlign:"center",p:6,"data-testid":j,children:[b?(0,c.jsx)(s.M5,{mb:2,children:b}):null,a?(0,c.jsx)(i.xB,{fontWeight:"medium",pb:0,children:a}):null,u?(0,c.jsx)(i.fe,{children:u}):null,(0,c.jsx)(i.mz,{children:(0,c.jsxs)(s.MI,{columns:2,width:"100%",children:[(0,c.jsx)(o.zx,l(l({variant:"outline",mr:3,onClick:n,"data-testid":"cancel-btn",isDisabled:x},p),{},{children:d||"Cancel"})),(0,c.jsx)(o.zx,l(l({colorScheme:"primary",onClick:t,"data-testid":"continue-btn",isLoading:x},f),{},{children:h||"Continue"}))]})})]})]})}},26308:function(e,r,n){"use strict";n.d(r,{Z:function(){return j}});var t=n(50029),i=n(16835),s=n(87794),o=n.n(s),c=n(68527),a=n(15193),l=n(48591),u=n(81655),d=n(41664),p=n.n(d),h=(n(67294),{src:"/_next/static/media/logo.c87f81b9.svg",height:64,width:209}),f=n(97142),x=n(18459),g=n(37161),m=n(58101),v=n(85893),j=function(){var e=function(){var e;return{username:(null!==(e=(0,f.C)(g.dy))&&void 0!==e?e:{username:""}).username}}().username,r=(0,g._y)(),n=(0,i.Z)(r,1)[0],s=(0,f.T)(),d=function(){var e=(0,t.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({});case 2:s((0,g.kS)());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)(c.kC,{as:"header",height:12,width:"100%",paddingX:10,flexShrink:0,justifyContent:"space-between",alignItems:"center",backgroundColor:"gray.50",children:[(0,v.jsx)(p(),{href:x.gp,passHref:!0,children:(0,v.jsx)(c.rU,{display:"flex",children:(0,v.jsx)(m.Z,{src:h,width:83,height:26,alt:"Fides Logo"})})}),(0,v.jsxs)(c.kC,{alignItems:"center",children:[(0,v.jsx)(c.rU,{href:"https://ethyca.github.io/fides/",isExternal:!0,children:(0,v.jsx)(a.zx,{size:"sm",variant:"ghost",children:(0,v.jsx)(l.UO,{color:"gray.700",boxSize:4})})}),e&&(0,v.jsxs)(u.v2,{children:[(0,v.jsx)(u.j2,{as:a.zx,size:"sm",variant:"ghost","data-testid":"header-menu-button",children:(0,v.jsx)(l.tB,{color:"gray.700"})}),(0,v.jsxs)(u.qy,{shadow:"xl",children:[(0,v.jsx)(c.Kq,{px:3,py:2,spacing:1,children:(0,v.jsx)(c.xv,{fontWeight:"medium",children:e})}),(0,v.jsx)(u.R,{}),(0,v.jsx)(u.sN,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:d,"data-testid":"header-menu-sign-out",children:"Sign out"})]})]})]})]})}},18343:function(e,r,n){"use strict";n.d(r,{Z:function(){return m}});var t=n(68527),i=n(9008),s=n.n(i),o=n(11163),c=(n(67294),n(53700)),a=n(26308),l=n(93549),u=n(31444),d=n(70918),p=n(15193),h=n(45035),f=n(85893),x=function(){var e=(0,o.useRouter)();return(0,f.jsx)(t.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,f.jsxs)(t.xu,{children:[(0,f.jsxs)(t.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,f.jsx)(t.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,f.jsx)(p.zx,{size:"sm",variant:"outline",onClick:function(){e.push(h.fz)},children:"Configure"})]}),(0,f.jsxs)(t.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},g=n(58876),m=function(e){var r=e.children,n=e.title,i=(0,c.hz)(),p=(0,o.useRouter)(),h="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,m=!(i.flags.privacyRequestsConfiguration&&h),v=(0,d.JE)(void 0,{skip:m}).data,j=(0,d.PW)(void 0,{skip:m}).data,b=i.flags.privacyRequestsConfiguration&&(!v||!j)&&h;return(0,f.jsxs)(t.kC,{"data-testid":n,direction:"column",children:[(0,f.jsxs)(s(),{children:[(0,f.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,f.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,f.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,f.jsx)(a.Z,{}),(0,f.jsx)(g.Z,{}),(0,f.jsx)(u.Z,{}),(0,f.jsxs)(t.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,f.jsx)(t.xu,{flex:0,flexShrink:0,children:(0,f.jsx)(l.U,{})}),(0,f.jsxs)(t.kC,{direction:"column",flex:1,minWidth:0,children:[b?(0,f.jsx)(x,{}):null,r]})]})]})}},58876:function(e,r,n){"use strict";var t=n(97375),i=n(6886),s=n(68527),o=n(84746),c=n(97142),a=n(65648),l=n(74015),u=n(53700),d=n(85893);r.Z=function(){var e=(0,c.C)(u._R),r=(0,c.T)(),n=(0,c.C)(a.C0),p=void 0===e||e,h=(0,t.qY)({defaultIsOpen:p}),f=h.isOpen,x=h.onClose;return f?1===n.length&&n[0]!==l.A7.VIEWER?null:(0,d.jsxs)(i.bZ,{status:"info",overflow:"visible",children:[(0,d.jsx)(i.zM,{}),(0,d.jsx)(s.xu,{children:(0,d.jsx)(i.X,{children:"Ethyca has updated how permissions work from a scope-based model to a role-based permissions scheme. To update user roles, please log in as your root user and upgrade the roles as you see fit."})}),(0,d.jsx)(o.P,{alignSelf:"flex-start",position:"relative",right:-1,top:-1,onClick:function(){r((0,u.dq)(!1)),x()}})]}):null}},10867:function(e,r,n){"use strict";n.d(r,{Tg:function(){return o}});var t=n(97142),i=n(65648),s=n(85893),o=function(e){return(0,t.C)(i.uu).filter((function(r){return e.includes(r)})).length>0};r.ZP=function(e){var r=e.scopes,n=e.children;return o(r)?(0,s.jsx)(s.Fragment,{children:n}):null}},22391:function(e,r,n){"use strict";n.d(r,{TL:function(){return p},UI:function(){return d}});var t=n(59499),i=n(53959),s=n(41664),o=n.n(s),c=(n(67294),n(85893));function a(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var u=function(e){var r=e.variant,n=e.children,t=e.href,s=e.isActive,a=e.isDisabled,l="primary"===r?i.c2:i._p;return a?(0,c.jsx)(l,{isDisabled:a,href:t,isActive:s,children:n}):(0,c.jsx)(o(),{href:t,passHref:!0,children:(0,c.jsx)(l,{isActive:s,children:n})})},d=function(e){return(0,c.jsx)(u,l({variant:"primary"},e))},p=function(e){return(0,c.jsx)(u,l({variant:"secondary"},e))}},93549:function(e,r,n){"use strict";n.d(r,{U:function(){return l}});var t=n(53959),i=n(68527),s=n(11163),o=(n(67294),n(58536)),c=n(22391),a=n(85893),l=function(){var e=(0,s.useRouter)(),r=(0,o.Y)({path:e.pathname});return r.active?(0,a.jsxs)(i.gC,{as:"nav",align:"left",spacing:4,width:"200px",children:[(0,a.jsx)(i.X6,{size:"md",children:r.active.title}),(0,a.jsx)(t.$6,{children:r.active.children.map((function(r){var n=r.title,t=r.path,i=e.pathname.startsWith(t);return(0,a.jsx)(c.TL,{href:t,isActive:i,children:n},n)}))})]}):null}},31444:function(e,r,n){"use strict";n.d(r,{Z:function(){return a}});var t=n(68527),i=n(11163),s=(n(67294),n(58536)),o=n(22391),c=n(85893),a=function(){var e=(0,i.useRouter)(),r=(0,s.Y)({path:e.pathname});return(0,c.jsx)(t.kC,{as:"nav",height:12,paddingX:10,gap:1,flexShrink:0,alignItems:"center",borderBottom:"1px",borderColor:"gray.100",children:r.groups.map((function(e){var n,t=e.children[0].path,i=e.title===(null===(n=r.active)||void 0===n?void 0:n.title);return(0,c.jsx)(o.UI,{href:t,isActive:i,children:e.title},e.title)}))})}},52255:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return U}});var t=n(68527),i=n(18343),s=n(59499),o=n(4730),c=n(79042),a=n(59876),l=n(15193),u=n(11163),d=n(67294),p=n(79521),h=n(97142),f=n(45035),x=n(10867),g=n(74015),m=n(50029),v=n(16835),j=n(27812),b=n(87794),y=n.n(b),C=n(96356),O=n(97375),w=n(84304),k=n(48591),P=n(58144),_=new Map([["opt_in","Opt In"],["necessary","Necessary"],["opt_out","Opt Out"]]),S=n(28028),T=n(85893),E=function(e){var r=e.value;return(0,T.jsx)(t.xv,{fontWeight:"semibold",color:"gray.600",children:r})},Z=function(e){var r=e.value;return(0,T.jsx)(t.xv,{whiteSpace:"normal",children:r})},z=function(e){var r=e.value;return new Date(r).toDateString()},D=function(e){var r,n=e.value;return(0,T.jsx)(C.Vp,{size:"sm",backgroundColor:"primary.400",color:"white",children:null!==(r=_.get(n))&&void 0!==r?r:n})},R=function(e){var r=e.value,n=r.length>8?[].concat((0,j.Z)(r.slice(0,8)),["..."]):r;return(0,T.jsx)(t.xu,{whiteSpace:"normal",children:n.map((function(e,n){return(0,T.jsx)(C.Vp,{size:"sm",backgroundColor:"primary.400",color:"white",mr:n===r.length-1?0:3,textTransform:"uppercase",mb:2,children:e.replace(/_/g,"-")},e)}))})},A=function(e){var r=e.value,n=e.column,i=e.row,s=(0,O.qY)(),o=(0,S.vL)(),c=(0,v.Z)(o,1)[0],a=function(){var e=(0,m.Z)(y().mark((function e(r){var n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.enable,e.next=3,c([{id:i.original.id,disabled:!n}]);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,m.Z)(y().mark((function e(r){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.target.checked){e.next=6;break}return e.next=4,a({enable:!0});case 4:e.next=7;break;case 6:s.onOpen();case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(w.r,{colorScheme:"complimentary",isChecked:!r,"data-testid":"toggle-".concat(n.Header),disabled:n.disabled,onChange:l}),(0,T.jsx)(P.Z,{isOpen:s.isOpen,onClose:s.onClose,onConfirm:function(){a({enable:!1}),s.onClose()},title:"Disable privacy notice",message:(0,T.jsx)(t.xv,{color:"gray.500",children:"Are you sure you want to disable this privacy notice? Disabling this notice means your users will no longer see this explanation about your data uses which is necessary to ensure compliance."}),continueButtonText:"Confirm",isCentered:!0,icon:(0,T.jsx)(k.aN,{color:"orange.100"})})]})},H=["key"],N=["key"],I=["key"],B=["key"];function q(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function L(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?q(Object(n),!0).forEach((function(r){(0,s.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var M=function(){var e=(0,u.useRouter)(),r=(0,h.C)(S.Zp),n=(0,h.C)(S.G1);(0,S.J6)({page:r,size:n});var i=(0,h.C)(S.sX),s=(0,x.Tg)([g.Sh.PRIVACY_NOTICE_UPDATE]),m=(0,d.useMemo)((function(){return[{Header:"Title",accessor:"name",Cell:E},{Header:"Description",accessor:"description",Cell:Z},{Header:"Mechanism",accessor:"consent_mechanism",Cell:D},{Header:"Locations",accessor:"regions",Cell:R},{Header:"Created",accessor:"created_at",Cell:z},{Header:"Last update",accessor:"updated_at",Cell:z},{Header:"Enable",accessor:"disabled",disabled:!s,Cell:A}]}),[s]),v=(0,p.useTable)({columns:m,data:i},p.useSortBy),j=v.getTableProps,b=v.getTableBodyProps,y=v.headerGroups,C=v.rows,O=v.prepareRow;return 0===i.length?(0,T.jsx)(t.xv,{children:"No privacy notices found."}):(0,T.jsx)(c.xJ,{children:(0,T.jsxs)(c.iA,L(L({},j()),{},{borderRadius:"6px 6px 0px 0px",border:"1px solid",borderColor:"gray.200",fontSize:"sm",children:[(0,T.jsx)(c.hr,{backgroundColor:"gray.50",children:y.map((function(e){var r=e.getHeaderGroupProps(),n=r.key,i=(0,o.Z)(r,H);return(0,T.jsx)(c.Tr,L(L({},i),{},{children:e.headers.map((function(e){var r=e.getHeaderProps(e.getSortByToggleProps()),n=r.key,i=(0,o.Z)(r,N),s=null;return e.isSorted&&(s=e.isSortedDesc?(0,T.jsx)(a.ve,{color:"gray.500"}):(0,T.jsx)(a.Hf,{color:"gray.500"})),(0,T.jsx)(c.Th,L(L({},i),{},{textTransform:"none",fontSize:"sm",p:4,"data-testid":"column-".concat(e.Header),children:(0,T.jsxs)(t.xv,{_hover:{backgroundColor:"gray.100"},p:1,borderRadius:"4px",pr:s?0:3.5,children:[e.render("Header"),s]})}),n)}))}),n)}))}),(0,T.jsx)(c.p3,L(L({},b()),{},{children:C.map((function(r){O(r);var n=r.getRowProps(),t=n.key,i=(0,o.Z)(n,I),a=function(){s&&e.push("".concat(f.IT,"/").concat(r.original.id))};return(0,T.jsx)(c.Tr,L(L({},i),{},{_hover:s?{backgroundColor:"gray.50",cursor:"pointer"}:void 0,"data-testid":"row-".concat(r.original.name),children:r.cells.map((function(e){var r=e.getCellProps(),n=r.key,t=(0,o.Z)(r,B);return(0,T.jsx)(c.Td,L(L({},t),{},{p:5,verticalAlign:"baseline",onClick:"Enable"!==e.column.Header?a:void 0,children:e.render("Cell")}),n)}))}),t)}))})),(0,T.jsx)(c.$R,{backgroundColor:"gray.50",children:(0,T.jsx)(c.Tr,{children:(0,T.jsx)(c.Td,{colSpan:m.length,px:4,py:3.5,children:(0,T.jsx)(x.ZP,{scopes:[g.Sh.PRIVACY_NOTICE_CREATE],children:(0,T.jsx)(l.zx,{size:"xs",colorScheme:"primary","data-testid":"add-privacy-notice-btn",children:"Add a privacy notice +"})})})})})]}))})},U=function(){return(0,T.jsx)(i.Z,{title:"Privacy notices",children:(0,T.jsx)(t.xu,{"data-testid":"privacy-notices-page",children:(0,T.jsx)(M,{})})})}},30772:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/consent/privacy-notices",function(){return n(52255)}])}},function(e){e.O(0,[2437,8104,9774,2888,179],(function(){return r=30772,e(e.s=r);var r}));var r=e.O();_N_E=r}]);