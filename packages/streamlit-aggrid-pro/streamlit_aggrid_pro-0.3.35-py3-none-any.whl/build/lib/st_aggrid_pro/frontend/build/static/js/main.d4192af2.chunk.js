(this["webpackJsonpstreamlit-aggrid-pro"]=this["webpackJsonpstreamlit-aggrid-pro"]||[]).push([[0],{308:function(t,e,r){},309:function(t,e,r){},311:function(t,e,r){"use strict";r.r(e);var a=r(34),n=r.n(a),o=r(107),i=r.n(o),s=r(31),u=r(2),c=r(3),d=r(6),l=r(7),p=r(206),m=r(234),f=r(0),h=r(241),g=r(33),v=r(238),y=r(239),b=r(204),O=r(240),F=r(245),j=r(246),_=r(111),w=r(205),C=r(247),k=r(61),D=r(244),x=r(248),N=r(105),R=r(242),A=r(314),S=r(313),E=r(243);var G=function t(e,r){var a=function(e){return null!==e&&"object"===typeof e?t(e,r):r(e)};return Array.isArray(e)?e.map(a):"object"===typeof e?function(t,e){return Object.keys(t).reduce((function(r,a){return r[a]=e(t[a]),r}),{})}(e,a):e},U=r(236),L=r(237),H=(r(308),r(309),r(68));var J=function(t){Object(d.a)(r,t);var e=Object(l.a)(r);function r(t){var a,n=this;Object(u.a)(this,r),(a=e.call(this,t)).frameDtypes=void 0,a.api=void 0,a.columnApi=void 0,a.columnFormaters=void 0,a.manualUpdateRequested=!1,a.allowUnsafeJsCode=!1,a.fitColumnsOnGridLoad=!1,a.gridOptions=void 0,a.convertJavascriptCodeOnGridOptions=function(t){return G(t,a.convertStringToFunction)},a.render=function(){return void 0!==a.api&&a.state.should_update&&a.api.setRowData(a.state.rowData),Object(H.jsxs)("div",{className:"ag-theme-"+a.props.args.theme,style:a.defineContainerHeight(),children:[Object(H.jsx)(n.ManualUpdateButton,{manual_update:a.manualUpdateRequested,onClick:function(t){return a.returnGridValue(t)}}),Object(H.jsx)(m.AgGridReact,{onGridReady:function(t){return a.onGridReady(t)},gridOptions:a.gridOptions})]})},f.ModuleRegistry.register(h.a),t.args.custom_css&&function(t){var e=function(t){var e=[];for(var r in t){var a=r+" {";for(var n in t[r])a+=n+": "+t[r][n]+";";a+="}",e.push(a)}return e.join("\n")}(t),r=document.createElement("style");r.type="text/css",r.innerText=e,console.log("Adding cutom css: ",e),document.head.appendChild(r)}(t.args.custom_css),t.args.enable_enterprise_modules&&(f.ModuleRegistry.registerModules([O.a,v.a,y.a,b.a,F.a,j.a,_.b,w.a,C.a,k.c,D.a,x.a,N.a,R.a]),"license_key"in t.args&&g.b.setLicenseKey(t.args.license_key)),a.frameDtypes=a.props.args.frame_dtypes,a.manualUpdateRequested=1===a.props.args.update_mode,a.allowUnsafeJsCode=a.props.args.allow_unsafe_jscode,a.fitColumnsOnGridLoad=a.props.args.fit_columns_on_grid_load,a.columnFormaters={columnTypes:{dateColumnFilter:{filter:"agDateColumnFilter",filterParams:{comparator:function(t,e){return Object(A.a)(Object(S.a)(e),t)}}},numberColumnFilter:{filter:"agNumberColumnFilter"},shortDateTimeFormat:{valueFormatter:function(t){return a.dateFormatter(t.value,"dd/MM/yyyy HH:mm")}},customDateTimeFormat:{valueFormatter:function(t){return a.dateFormatter(t.value,t.column.colDef.custom_format_string)}},customNumericFormat:{valueFormatter:function(t){var e;return a.numberFormatter(t.value,null!==(e=t.column.colDef.precision)&&void 0!==e?e:2)}},customCurrencyFormat:{valueFormatter:function(t){return a.currencyFormatter(t.value,t.column.colDef.custom_currency_symbol)}},timedeltaFormat:{valueFormatter:function(t){return Object(U.duration)(t.value).humanize(!0)}}}};var o=Object.assign({},a.columnFormaters,a.props.args.gridOptions);return a.allowUnsafeJsCode&&(console.warn("flag allow_unsafe_jscode is on."),o=a.convertJavascriptCodeOnGridOptions(o)),a.gridOptions=o,a.state={rowData:JSON.parse(t.args.row_data),gridHeight:a.props.args.height,should_update:!1},a}return Object(c.a)(r,[{key:"convertStringToFunction",value:function(t){var e="--x_x--0_0--",r=new RegExp("".concat(e,"\\s*((function|class)\\s*.*)\\s*").concat(e)).exec(t);if(r){var a=r[1];return new Function("return "+a)()}return t}},{key:"attachUpdateEvents",value:function(){var t=this,e=this.props.args.update_on[0],r=function(e){return t.returnGridValue(e)};e.forEach((function(e){Array.isArray(e)?(t.api.addEventListener(e[0],Object(L.debounce)(r,e[1])),console.log("Attached arr",e)):t.api.addEventListener(e,r)}))}},{key:"onGridReady",value:function(t){var e=this;for(var r in this.api=t.api,this.columnApi=t.columnApi,this.attachUpdateEvents(),this.api.addEventListener("firstDataRendered",(function(t){return e.fitColumns()})),this.api.setRowData(this.state.rowData),this.gridOptions.preSelectedRows)this.api.selectIndex(this.gridOptions.preSelectedRows[r],!0,!0)}},{key:"fitColumns",value:function(){this.fitColumnsOnGridLoad?this.api.sizeColumnsToFit():this.columnApi.autoSizeAllColumns()}},{key:"dateFormatter",value:function(t,e){try{var r=Object(S.a)(t);return Object(E.a)(r,e)}catch(a){return t}}},{key:"currencyFormatter",value:function(t,e){var r=Number.parseFloat(t);return Number.isNaN(r)?t:e+r.toFixed(2)}},{key:"numberFormatter",value:function(t,e){var r=Number.parseFloat(t);return Number.isNaN(r)?t:r.toFixed(e)}},{key:"returnGridValue",value:function(t){var e=[];switch(this.props.args.data_return_mode){case 0:this.api.forEachLeafNode((function(t){return e.push(t.data)}));break;case 1:this.api.forEachNodeAfterFilter((function(t){t.group||e.push(t.data)}));break;case 2:this.api.forEachNodeAfterFilterAndSort((function(t){t.group||e.push(t.data)}))}var r={originalDtypes:this.frameDtypes,rowData:e,selectedRows:this.api.getSelectedRows(),selectedItems:this.api.getSelectedNodes().map((function(t){return Object(s.a)({rowIndex:t.rowIndex},t.data)})),colState:this.columnApi.getColumnState()};p.a.setComponentValue(r)}},{key:"ManualUpdateButton",value:function(t){return t.manual_update?Object(H.jsx)("button",{onClick:t.onClick,children:"Update"}):Object(H.jsx)("span",{})}},{key:"defineContainerHeight",value:function(){return"domLayout"in this.gridOptions&&"autoHeight"===this.gridOptions.domLayout?{width:this.props.width}:{width:this.props.width,height:this.state.gridHeight}}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.args.reload_data?{rowData:JSON.parse(t.args.row_data),gridHeight:t.args.height,should_update:!0}:{gridHeight:t.args.height}}}]),r}(p.b),M=Object(p.c)(J);i.a.render(Object(H.jsx)(n.a.StrictMode,{children:Object(H.jsx)(M,{})}),document.getElementById("root"))}},[[311,1,2]]]);
//# sourceMappingURL=main.d4192af2.chunk.js.map