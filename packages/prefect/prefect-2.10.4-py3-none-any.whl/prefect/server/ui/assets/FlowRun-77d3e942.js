import{d as I,r as L,a as N,c as u,D as P,T as V,G as j,Y as A,$ as B,a0 as G,a1 as $,e as a,w as l,g as f,x as E,o,u as e,a2 as H,h as n,a3 as i,a4 as K,j as _,a5 as M,a6 as O,a7 as U,a8 as Y,a9 as q,aa as z,V as J}from"./index-1bb2d7f7.js";import{u as Q}from"./usePageTitle-d4ce3b8c.js";const ee=I({__name:"FlowRun",setup(W){const m=E(),c=L("Logs"),p=N("flowRunId"),y=u(()=>{const s=["Logs","Task Runs","Results","Artifacts","Subflow Runs","Parameters"];return P.xl||s.push("Details"),s}),R=V(),k=j(R.flowRuns.getFlowRun,[p],{interval:5e3}),t=u(()=>k.response),v=u(()=>{var s;return(s=t.value)==null?void 0:s.deploymentId}),{deployment:w}=A(v);B(p,(s,r)=>{s!==r&&(c.value="Logs")});const g=u(()=>{var s;return((s=t.value)==null?void 0:s.parameters)??{}}),h=u(()=>{var s;return((s=w.value)==null?void 0:s.parameterOpenApiSchema)??{}}),d=u(()=>G(g.value,h.value));function x(){m.push(J.flowRuns())}const b=u(()=>{var s;return(s=t.value)==null?void 0:s.stateType});$(b);const T=u(()=>t.value?`Flow Run: ${t.value.name}`:"Flow Run");return Q(T),(s,r)=>{const F=f("p-code-highlight"),C=f("p-tabs"),D=f("p-layout-well");return o(),a(D,{class:"flow-run"},{header:l(()=>[e(t)?(o(),a(e(H),{key:0,"flow-run-id":e(t).id,onDelete:x},null,8,["flow-run-id"])):n("",!0)]),well:l(()=>[e(t)?(o(),a(e(i),{key:0,"flow-run":e(t),alternate:""},null,8,["flow-run"])):n("",!0)]),default:l(()=>[e(t)?(o(),a(e(K),{key:0,"flow-run":e(t)},null,8,["flow-run"])):n("",!0),_(C,{selected:c.value,"onUpdate:selected":r[0]||(r[0]=S=>c.value=S),tabs:e(y)},{details:l(()=>[e(t)?(o(),a(e(i),{key:0,"flow-run":e(t)},null,8,["flow-run"])):n("",!0)]),logs:l(()=>[e(t)?(o(),a(e(M),{key:0,"flow-run":e(t)},null,8,["flow-run"])):n("",!0)]),results:l(()=>[e(t)?(o(),a(e(O),{key:0,"flow-run":e(t)},null,8,["flow-run"])):n("",!0)]),artifacts:l(()=>[e(t)?(o(),a(e(U),{key:0,"flow-run":e(t)},null,8,["flow-run"])):n("",!0)]),"task-runs":l(()=>[e(t)?(o(),a(e(Y),{key:0,"flow-run-id":e(t).id},null,8,["flow-run-id"])):n("",!0)]),"subflow-runs":l(()=>[e(t)?(o(),a(e(q),{key:0,"flow-run-id":e(t).id},null,8,["flow-run-id"])):n("",!0)]),parameters:l(()=>[e(w)?(o(),a(e(z),{key:0,"text-to-copy":e(d)},{default:l(()=>[_(F,{lang:"json",text:e(d),class:"flow-run__parameters"},null,8,["text"])]),_:1},8,["text-to-copy"])):n("",!0)]),_:1},8,["selected","tabs"])]),_:1})}}});export{ee as default};
