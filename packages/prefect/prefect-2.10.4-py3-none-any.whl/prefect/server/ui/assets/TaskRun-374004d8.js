import{d as C,a as N,T as V,c as n,D as j,ad as p,a1 as A,u as t,e as k,w as e,h as _,g as l,x as B,o as d,j as u,ae as F,af as f,S as O,m as R,ag as E,t as H,b as J,ah as L,aa as M,V as P}from"./index-1bb2d7f7.js";import{u as Y}from"./usePageTitle-d4ce3b8c.js";const K=C({__name:"TaskRun",setup($){const g=B(),r=N("taskRunId"),c=V(),m=n(()=>{const a=["Logs","Task Inputs"];return j.xl||a.push("Details"),a}),v=n(()=>r.value?[r.value]:null),h=p(c.taskRuns.getTaskRun,v,{interval:3e4}),s=n(()=>h.response),o=n(()=>{var a;return(a=s.value)==null?void 0:a.flowRunId}),T=n(()=>o.value?[o.value]:null),w=p(c.flowRuns.getFlowRun,T),i=n(()=>{var a;return(a=s.value)!=null&&a.taskInputs?JSON.stringify(s.value.taskInputs,void 0,2):"{}"});function y(){w.refresh(),g.push(P.flowRun(o.value))}const I=n(()=>{var a;return(a=s.value)==null?void 0:a.stateType});A(I);const x=n(()=>s.value?`Task Run: ${s.value.name}`:"Task Run");return Y(x),(a,q)=>{const b=l("p-code-highlight"),D=l("p-tabs"),S=l("p-layout-well");return t(s)?(d(),k(S,{key:0,class:"task-run"},{header:e(()=>[u(t(F),{"task-run-id":t(s).id,onDelete:y},null,8,["task-run-id"])]),well:e(()=>[u(t(f),{alternate:"","task-run":t(s)},null,8,["task-run"])]),default:e(()=>[u(D,{tabs:t(m)},O({details:e(()=>[u(t(f),{"task-run":t(s)},null,8,["task-run"])]),logs:e(()=>[u(t(L),{"task-run":t(s)},null,8,["task-run"])]),"task-inputs":e(()=>[t(s)?(d(),k(t(M),{key:0,"text-to-copy":t(i)},{default:e(()=>[u(b,{lang:"json",text:t(i),class:"task-run__inputs"},null,8,["text"])]),_:1},8,["text-to-copy"])):_("",!0)]),_:2},[t(s)?{name:"task-inputs-heading",fn:e(()=>[R(" Task inputs "),u(t(E),{title:"Task Inputs"},{default:e(()=>[R(H(t(J).info.taskInput),1)]),_:1})]),key:"0"}:void 0]),1032,["tabs"])]),_:1})):_("",!0)}}});export{K as default};
