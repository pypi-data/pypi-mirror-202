Metadata-Version: 2.1
Name: craft-store
Version: 2.4.0
Summary: "Store bindings for Snaps and Charms"
Home-page: https://github.com/canonical/craft-store
Author: Canonical Ltd.
Author-email: snapcraft@lists.snapcraft.io
License: GNU Lesser General Public License v3 (LGPLv3)
Project-URL: Documentation, https://craft-store.readthedocs.io/en/latest/
Project-URL: Source, https://github.com/canonical/craft-store.git
Project-URL: Issues, https://github.com/canonical/craft-store/issues
Classifier: Development Status :: 2 - Pre-Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: GNU Lesser General Public License v3 (LGPLv3)
Classifier: Operating System :: MacOS :: MacOS X
Classifier: Operating System :: POSIX :: Linux
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Requires-Python: >=3.8
License-File: LICENSE
Requires-Dist: pydantic (>=1.10)
Requires-Dist: keyring (>=23.0)
Requires-Dist: macaroonbakery
Requires-Dist: overrides
Requires-Dist: requests
Requires-Dist: requests-toolbelt
Provides-Extra: dev
Requires-Dist: autoflake ; extra == 'dev'
Requires-Dist: twine ; extra == 'dev'
Requires-Dist: wheel ; extra == 'dev'
Requires-Dist: coverage ; extra == 'dev'
Requires-Dist: black ; extra == 'dev'
Requires-Dist: codespell ; extra == 'dev'
Requires-Dist: flake8 ; extra == 'dev'
Requires-Dist: isort ; extra == 'dev'
Requires-Dist: mypy ; extra == 'dev'
Requires-Dist: pydocstyle ; extra == 'dev'
Requires-Dist: pylint ; extra == 'dev'
Requires-Dist: pylint-fixme-info ; extra == 'dev'
Requires-Dist: pylint-pytest ; extra == 'dev'
Requires-Dist: pytest ; extra == 'dev'
Requires-Dist: pytest-check ; extra == 'dev'
Requires-Dist: pytest-mock ; extra == 'dev'
Requires-Dist: pytest-subprocess ; extra == 'dev'
Requires-Dist: pytest-timeout (>=2.0) ; extra == 'dev'
Requires-Dist: tox ; extra == 'dev'
Requires-Dist: types-requests ; extra == 'dev'
Requires-Dist: types-setuptools ; extra == 'dev'
Requires-Dist: types-pyyaml ; extra == 'dev'
Requires-Dist: PyYAML ; extra == 'dev'
Provides-Extra: doc
Requires-Dist: sphinx ; extra == 'doc'
Requires-Dist: sphinx-autodoc-typehints ; extra == 'doc'
Requires-Dist: sphinx-pydantic ; extra == 'doc'
Requires-Dist: sphinx-rtd-theme ; extra == 'doc'
Provides-Extra: release
Requires-Dist: twine ; extra == 'release'
Requires-Dist: wheel ; extra == 'release'
Provides-Extra: test
Requires-Dist: coverage ; extra == 'test'
Requires-Dist: black ; extra == 'test'
Requires-Dist: codespell ; extra == 'test'
Requires-Dist: flake8 ; extra == 'test'
Requires-Dist: isort ; extra == 'test'
Requires-Dist: mypy ; extra == 'test'
Requires-Dist: pydocstyle ; extra == 'test'
Requires-Dist: pylint ; extra == 'test'
Requires-Dist: pylint-fixme-info ; extra == 'test'
Requires-Dist: pylint-pytest ; extra == 'test'
Requires-Dist: pytest ; extra == 'test'
Requires-Dist: pytest-check ; extra == 'test'
Requires-Dist: pytest-mock ; extra == 'test'
Requires-Dist: pytest-subprocess ; extra == 'test'
Requires-Dist: pytest-timeout (>=2.0) ; extra == 'test'
Requires-Dist: tox ; extra == 'test'
Requires-Dist: types-requests ; extra == 'test'
Requires-Dist: types-setuptools ; extra == 'test'
Requires-Dist: types-pyyaml ; extra == 'test'
Requires-Dist: PyYAML ; extra == 'test'

# Craft Store

This project aims to provide python interfaces for communicating with
Canonical Stores, such as Charmhub and the Snap Store.

# License

Free software: GNU Lesser General Public License v3

# Documentation:

https://craft-store.readthedocs.io.

# Contributing

A `Makefile` is provided for easy interaction with the project. To see
all available options run:

```
make help
```

## Running tests

To run all tests in the suite run:

```
make tests
```

### Integration tests

Some integration tests require collaborator permission on the `craft-store-test-charm`
charm package on the staging craft-store. These can be run by creating a pull request.

Other integration tests simply require a valid login to the staging charmhub store.
These can be run by exporting charmhub staging credentials to the environment
variable `CRAFT_STORE_CHARMCRAFT_CREDENTIALS`. An easy way to do this is to 
create a `charmcraft.yaml` file containing the lines:

    charmhub:
      api-url: "https://api.staging.charmhub.io"
      storage-url: "https://storage.staging.snapcraftcontent.com"

and then run `charmcraft login --export cc.cred` to login and
`export CRAFT_STORE_CHARMCRAFT_CREDENTIALS=$(cat cc.cred)` to put the credentials
into the environment variable. Note that if you do not have collaborator permissions
on `craft-store-test-charm`, some tests will fail rather than being skipped.

## Adding new requirements

If a new dependency is added to the project run:

```
make freeze-requirements
```

## Verifying documentation changes

To locally verify documentation changes run:

```
make docs
```

After running, newly generated documentation shall be available at
`./docs/_build/html/`.

## Committing code

Please follow these guidelines when committing code for this project:

- Use a topic with a colon to start the subject
- Separate subject from body with a blank line
- Limit the subject line to 50 characters
- Do not capitalize the subject line
- Do not end the subject line with a period
- Use the imperative mood in the subject line
- Wrap the body at 72 characters
- Use the body to explain what and why (instead of how)

As an example:


    endpoints: support package attenuations

    Required in order to obtain credentials that apply only to a given package;
    be it charm, snap or bundle.

